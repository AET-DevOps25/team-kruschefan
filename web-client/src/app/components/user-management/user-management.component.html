<h2>Saved Templates</h2>
@if (savedTemplates.length === 0) {
  <p>No saved templates found.</p>
} @else {
  <table
    #templateTable
    mat-table
    [dataSource]="savedTemplates"
    class="mat-elevation-z8"
  >
    <ng-container matColumnDef="templateName">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">{{ element.templateName }}</td>
    </ng-container>

    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef>Nr.</th>
      <td mat-cell *matCellDef="let element">{{ element.position }}</td>
    </ng-container>

    <ng-container matColumnDef="createdAt">
      <th mat-header-cell *matHeaderCellDef>Created on</th>
      <td mat-cell *matCellDef="let element">{{ element.createdAt }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="editTemplate(element.id)">Edit</button>
        <button mat-button (click)="requestTemplateDelete(element.id)">
          Delete
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="templateTableColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: templateTableColumns"></tr>
  </table>
}

<h2>Created Forms</h2>
@if (createdForms.length === 0) {
  <p>No created forms found.</p>
} @else {
  <table
    #formCreatedTable
    mat-table
    [dataSource]="createdForms"
    class="mat-elevation-z8"
  >
    <ng-container matColumnDef="formName">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">{{ element.formName }}</td>
    </ng-container>

    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef>Nr.</th>
      <td mat-cell *matCellDef="let element">{{ element.position }}</td>
    </ng-container>

    <ng-container matColumnDef="createdAt">
      <th mat-header-cell *matHeaderCellDef>Created on</th>
      <td mat-cell *matCellDef="let element">{{ element.createdAt }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="viewForm(element.formId)">View Form</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="formCreatedTableColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: formCreatedTableColumns"></tr>
  </table>
}

<h2>Submitted Forms</h2>
@if (submittedForms.length === 0) {
  <p>No submitted forms found.</p>
} @else {
  <table
    #formTable
    mat-table
    [dataSource]="submittedForms"
    class="mat-elevation-z8"
  >
    <ng-container matColumnDef="formName">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">{{ element.formName }}</td>
    </ng-container>

    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef>Nr.</th>
      <td mat-cell *matCellDef="let element">{{ element.position }}</td>
    </ng-container>

    <ng-container matColumnDef="submittedOn">
      <th mat-header-cell *matHeaderCellDef>Submitted on</th>
      <td mat-cell *matCellDef="let element">{{ element.submittedOn }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="viewForm(element.formId)">Form</button>
        <button mat-button (click)="viewFormResponse(element.id)">
          View Response
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="formResponseTableColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: formResponseTableColumns"></tr>
  </table>
}
